version: 2

sources:
  - name: staging
    database: deft-crawler-378422
    schema: used_cars_data

    tables:
      - name: canada_used_cars
      - name: usa_used_cars

models:
    - name: stg-used_cars_can
      description: >
        Automative data from MarketCheck.  automotive data covers 8 years of inventory across Canada. 
        Each day MarketCheck systems crawl and aggregate inventory from over 65k dealer websites to deliver the most 
        comprehensive and up-to-date depictions of market activity available anywhere. Individual listing records show 
        year, make, model and trim, with VIN-level histories, showing the most recent time the car showed up online 
        back to the earliest, with every change that occurred over that time.
      columns:
          - name: id
            description: Primary key for this table, generated by MarketCheck
            tests:
                - unique:
                    severity: warn
                - not_null:
                    severity: warn
          - name: VIN
            description: 17 char long VIN of the car
            tests:
                - not_null:
                    severity: warn
          - name: price
            description: The car price as listed on the website
          - name: year 
            description: Model Year of the car (VIN Decoded)
          - name: make
            description: Make of the car (VIN Decoded)
          - name: model
            description: Model of the car (VIN Decoded)
          - name: trim
            description: Trim of the car (VIN Decoded)
          - name: body_type
            description: Body type of the car (VIN Decoded)
          - name: vehicle_type
            description: Vehicle type of the car (VIN Decoded)
          - name: drivetrain
            description: Drivetrain of the car (VIN Decoded)
          - name: transmission
            description: Transmission of the car (VIN Decoded)
          - name: fuel_type
            description: Fuel type of the car (VIN Decoded)
          - name: engine_size
            description: Engine size of the car (VIN Decoded)
          - name: engine_block
            description: Engine block of the car (VIN Decoded)
          - name: seller_name
            description: Dealer Name
          - name: street
            description: Dealer Street
          - name: city
            description: Dealer City
          - name: state
            description: Dealer State
          - name: zip
            description: Dealer Street
          - name: country_code
            description: Dealer Country

    - name: stg-used_cars_usa
      description: >
        Automative data from MarketCheck.  automotive data covers 8 years of inventory across the US. 
        Each day MarketCheck systems crawl and aggregate inventory from over 65k dealer websites to deliver the most 
        comprehensive and up-to-date depictions of market activity available anywhere. Individual listing records show 
        year, make, model and trim, with VIN-level histories, showing the most recent time the car showed up online 
        back to the earliest, with every change that occurred over that time.
      columns:
          - name: id
            description: Primary key for this table, generated by MarketCheck
            tests:
                - unique:
                    severity: warn
                - not_null:
                    severity: warn
          - name: VIN
            description: 17 char long VIN of the car
            tests:
                - not_null:
                    severity: warn
          - name: price
            description: The car price as listed on the website
          - name: year 
            description: Model Year of the car (VIN Decoded)
          - name: make
            description: Make of the car (VIN Decoded)
          - name: model
            description: Model of the car (VIN Decoded)
          - name: trim
            description: Trim of the car (VIN Decoded)
          - name: body_type
            description: Body type of the car (VIN Decoded)
          - name: vehicle_type
            description: Vehicle type of the car (VIN Decoded)
          - name: drivetrain
            description: Drivetrain of the car (VIN Decoded)
          - name: transmission
            description: Transmission of the car (VIN Decoded)
          - name: fuel_type
            description: Fuel type of the car (VIN Decoded)
          - name: engine_size
            description: Engine size of the car (VIN Decoded)
          - name: engine_block
            description: Engine block of the car (VIN Decoded)
          - name: seller_name
            description: Dealer Name
          - name: street
            description: Dealer Street
          - name: city
            description: Dealer City
          - name: state
            description: Dealer State
          - name: zip
            description: Dealer Street
          - name: country_code
            description: Dealer Country